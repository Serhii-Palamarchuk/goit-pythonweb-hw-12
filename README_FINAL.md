# Contacts API - –§—ñ–Ω–∞–ª—å–Ω–µ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è

–¶–µ –ø–æ–≤–Ω–æ—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π REST API –¥–ª—è —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç–∞–º–∏, —Å—Ç–≤–æ—Ä–µ–Ω–∏–π –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º FastAPI —Ç–∞ SQLAlchemy.

## üéØ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

### ‚úÖ –û—Å–Ω–æ–≤–Ω—ñ –≤–∏–º–æ–≥–∏ (100 –±–∞–ª—ñ–≤)

1. **üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Sphinx (15 –±–∞–ª—ñ–≤)**
   - –î–æ–¥–∞–Ω–æ docstrings –¥–æ –≤—Å—ñ—Ö –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —ñ –º–µ—Ç–æ–¥—ñ–≤
   - –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ Sphinx
   - –§–∞–π–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó —Ä–æ–∑—Ç–∞—à–æ–≤–∞–Ω—ñ –≤ –ø–∞–ø—Ü—ñ `docs/`

2. **üß™ –ú–æ–¥—É–ª—å–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (15 –±–∞–ª—ñ–≤)**
   - –ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ –º–æ–¥—É–ª—ñ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
   - –¢–µ—Å—Ç–∏ –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (`tests/test_repository_users.py`)
   - –¢–µ—Å—Ç–∏ –¥–ª—è –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ (`tests/test_repository_contacts.py`)

3. **üîÑ –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è (20 –±–∞–ª—ñ–≤)**
   - –ü–æ–≤–Ω–µ –ø–æ–∫—Ä–∏—Ç—Ç—è API –º–∞—Ä—à—Ä—É—Ç—ñ–≤
   - –¢–µ—Å—Ç–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
   - –¢–µ—Å—Ç–∏ CRUD –æ–ø–µ—Ä–∞—Ü—ñ–π (`tests/test_integration_contacts.py`)

4. **üìä –ü–æ–∫—Ä–∏—Ç—Ç—è —Ç–µ—Å—Ç–∞–º–∏ >75% (10 –±–∞–ª—ñ–≤)**
   - –ù–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ pytest-cov
   - –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –≤ `pytest.ini`
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø–æ–∫—Ä–∏—Ç—Ç—è

5. **‚ö° –ö–µ—à—É–≤–∞–Ω–Ω—è Redis (15 –±–∞–ª—ñ–≤)**
   - –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ –∫–µ—à—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
   - –§—É–Ω–∫—Ü—ñ—è `get_current_user` –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –∫–µ—à
   - –°–ª—É–∂–±–∞ Redis Cache (`src/services/redis_cache.py`)

6. **üîê –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è (15 –±–∞–ª—ñ–≤)**
   - –ë–µ–∑–ø–µ—á–Ω–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º —á–µ—Ä–µ–∑ email
   - JWT —Ç–æ–∫–µ–Ω–∏ –∑ –æ–±–º–µ–∂–µ–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó
   - –ú–∞—Ä—à—Ä—É—Ç–∏: `/auth/request-password-reset`, `/auth/reset-password`

7. **üëÆ –†–æ–ª—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ (10 –±–∞–ª—ñ–≤)**
   - –†–æ–ª—ñ USER —Ç–∞ ADMIN
   - –ö–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø—É –¥–æ —Ñ—É–Ω–∫—Ü—ñ–π
   - –õ–∏—à–µ –∞–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä–∏ –º–æ–∂—É—Ç—å –∑–º—ñ–Ω—é–≤–∞—Ç–∏ —Å–≤—ñ–π –∞–≤–∞—Ç–∞—Ä

### üõ† –¢–µ—Ö–Ω—ñ—á–Ω—ñ –æ—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **Framework**: FastAPI 0.104.1
- **Database**: PostgreSQL + SQLAlchemy 2.0
- **Cache**: Redis –¥–ª—è –∫–µ—à—É–≤–∞–Ω–Ω—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- **Authentication**: JWT —Ç–æ–∫–µ–Ω–∏ –∑ bcrypt
- **Email**: FastAPI-Mail –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ emails
- **File Upload**: Cloudinary –¥–ª—è –∞–≤–∞—Ç–∞—Ä—ñ–≤
- **Rate Limiting**: FastAPI-Limiter –∑ Redis
- **Testing**: pytest + pytest-asyncio + pytest-cov
- **Documentation**: Sphinx –∑ RTD theme
- **Containerization**: Docker + Docker Compose

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/yourusername/goit-pythonweb-hw-12.git
cd goit-pythonweb-hw-12
```

### 2. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

```bash
# –ó Poetry
poetry install

# –ê–±–æ –∑ pip
pip install -r requirements.txt
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

```bash
cp .env.example .env
# –í—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ .env —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏
```

### 4. –ó–∞–ø—É—Å–∫ –∑ Docker

```bash
docker-compose up -d
```

### 5. –ó–∞–ø—É—Å–∫ –±–µ–∑ Docker

```bash
# –ó–∞–ø—É—Å—Ç—ñ—Ç—å PostgreSQL —Ç–∞ Redis –æ–∫—Ä–µ–º–æ
# –ü–æ—Ç—ñ–º –∑–∞–ø—É—Å—Ç—ñ—Ç—å –¥–æ–¥–∞—Ç–æ–∫
poetry run uvicorn main:app --reload
```

## üìñ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API

- **Swagger UI**: `http://localhost:8000/docs`
- **ReDoc**: `http://localhost:8000/redoc`
- **Sphinx docs**: –ì–µ–Ω–µ—Ä—É–π—Ç–µ –∫–æ–º–∞–Ω–¥–æ—é `sphinx-build -b html docs docs/_build`

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ –≤—Å—ñ—Ö —Ç–µ—Å—Ç—ñ–≤

```bash
poetry run pytest
```

### –¢–µ—Å—Ç–∏ –∑ –ø–æ–∫—Ä–∏—Ç—Ç—è–º

```bash
poetry run pytest --cov=src --cov-report=html
```

### –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ —Ç–∏–ø–∏ —Ç–µ—Å—Ç—ñ–≤

```bash
# –ú–æ–¥—É–ª—å–Ω—ñ —Ç–µ—Å—Ç–∏
poetry run pytest tests/test_repository_*.py

# –Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ–π–Ω—ñ —Ç–µ—Å—Ç–∏
poetry run pytest tests/test_integration_*.py
```

## üìö –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Sphinx

```bash
cd docs
sphinx-build -b html . _build/html
```

## üîë API –ï–Ω–¥–ø–æ—ñ–Ω—Ç–∏

### –ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è
- `POST /auth/signup` - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- `POST /auth/login` - –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `GET /auth/confirmed_email/{token}` - –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è email
- `POST /auth/request_email` - –ü–æ–≤—Ç–æ—Ä–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è
- `POST /auth/request-password-reset` - –ó–∞–ø–∏—Ç —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è
- `POST /auth/reset-password` - –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è –∑–∞ —Ç–æ–∫–µ–Ω–æ–º
- `GET /auth/me` - –ü–æ—Ç–æ—á–Ω–∏–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á
- `PATCH /auth/avatar` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∞–≤–∞—Ç–∞—Ä–∞ (–ª–∏—à–µ –¥–ª—è –∞–¥–º–∏–Ω—ñ–≤)

### –ö–æ–Ω—Ç–∞–∫—Ç–∏
- `GET /contacts/` - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–∞–∫—Ç—ñ–≤ (–∑ –ø–æ—à—É–∫–æ–º —ñ –ø–∞–≥—ñ–Ω–∞—Ü—ñ—î—é)
- `POST /contacts/` - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
- `GET /contacts/{id}` - –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
- `PUT /contacts/{id}` - –û–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
- `DELETE /contacts/{id}` - –í–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–∞–∫—Ç—É
- `GET /contacts/birthdays` - –ù–∞–π–±–ª–∏–∂—á—ñ –¥–Ω—ñ –Ω–∞—Ä–æ–¥–∂–µ–Ω–Ω—è

## üóÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ database/           # –ú–æ–¥–µ–ª—ñ –ë–î —Ç–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
‚îÇ   ‚îú‚îÄ‚îÄ repository/         # –†–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –ë–î
‚îÇ   ‚îú‚îÄ‚îÄ routes/            # API –º–∞—Ä—à—Ä—É—Ç–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas/           # Pydantic —Å—Ö–µ–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ services/          # –ë—ñ–∑–Ω–µ—Å –ª–æ–≥—ñ–∫–∞ —Ç–∞ —Å–µ—Ä–≤—ñ—Å–∏
‚îÇ   ‚îî‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –¥–æ–¥–∞—Ç–∫—É
‚îú‚îÄ‚îÄ tests/                 # –¢–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ docs/                  # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Sphinx
‚îú‚îÄ‚îÄ docker-compose.yml     # Docker Compose –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è
‚îî‚îÄ‚îÄ main.py               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É –¥–æ–¥–∞—Ç–∫—É
```

## üîí –ë–µ–∑–ø–µ–∫–∞

- –ü–∞—Ä–æ–ª—ñ —Ö–µ—à—É—é—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é bcrypt
- JWT —Ç–æ–∫–µ–Ω–∏ –∑ –æ–±–º–µ–∂–µ–Ω–∏–º —Ç–µ—Ä–º—ñ–Ω–æ–º –¥—ñ—ó
- Rate limiting –Ω–∞ API –µ–Ω–¥–ø–æ—ñ–Ω—Ç–∏
- –í–∞–ª—ñ–¥–∞—Ü—ñ—è —Ç–∞ —Å–∞–Ω—ñ—Ç–∏–∑–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- CORS –∑–∞—Ö–∏—Å—Ç
- –ë–µ–∑–ø–µ—á–Ω–µ —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—ñ–≤ —á–µ—Ä–µ–∑ email

## üìä –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Ç–∞ –ª–æ–≥—É–≤–∞–Ω–Ω—è

- –î–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –æ–ø–µ—Ä–∞—Ü—ñ–π
- –ö–µ—à—É–≤–∞–Ω–Ω—è –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
- –ú–µ—Ç—Ä–∏–∫–∏ Redis –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É –∫–µ—à—É
- –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ —Ç–∞ –≤–∏–Ω—è—Ç–∫—ñ–≤

## ü§ù –í–Ω–µ—Å–æ–∫ —É —Ä–æ–∑—Ä–æ–±–∫—É

1. Fork —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
2. –°—Ç–≤–æ—Ä—ñ—Ç—å feature –≥—ñ–ª–∫—É
3. –ó—Ä–æ–±—ñ—Ç—å –∑–º—ñ–Ω–∏
4. –î–æ–¥–∞–π—Ç–µ —Ç–µ—Å—Ç–∏
5. –°—Ç–≤–æ—Ä—ñ—Ç—å Pull Request

## üìù –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–∏–≤—ñ—Ç—å—Å—è —Ñ–∞–π–ª LICENSE –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

**–†–æ–∑—Ä–æ–±–Ω–∏–∫**: –°–µ—Ä–≥—ñ–π –ü–∞–ª–∞–º–∞—Ä—á—É–∫
**–ö—É—Ä—Å**: FullStack Web Development with Python  
**–ó–∞–≤–¥–∞–Ω–Ω—è**: –§—ñ–Ω–∞–ª—å–Ω–µ –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è